import { Listener } from '@d-fischer/typed-event-emitter';
import Message, { MessageConstructor } from './Message';
import IRCClient from '../IRCClient';
export declare type MessageCollectorEndCallback = (messages: Message[]) => void;
export default class MessageCollector {
    protected _client: IRCClient;
    protected _originalMessage: Message;
    protected _types: Set<MessageConstructor>;
    protected _messages: Message[];
    protected _promise?: Promise<Message[]>;
    protected _promiseResolve?: MessageCollectorEndCallback;
    protected _endEventHandlers: Map<Function, Listener>;
    constructor(_client: IRCClient, _originalMessage: Message, ...types: MessageConstructor[]);
    untilEvent(eventType: (handler: (...args: any[]) => void) => Listener): void;
    promise(): Promise<Message<any, never>[]>;
    collect(message: Message): boolean;
    end(): void;
    private _cleanEndEventHandlers;
    private _cleanEndEventHandler;
}
